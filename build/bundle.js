/*!
 * promise-accessory v0.2.3 MIT license <Build Tue, 31 Mar 2020 06:03:11 GMT>
 * The accessory util is based on promise.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).promiseAccessoryUtil={})}(this,function(e){"use strict";function t(e,t){return e&&(e.P=t),e}var r="undefined"!=typeof wx&&void 0!==wx.showShareActionSheet,n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),o={setTimeout:r?setTimeout:n.setTimeout,clearTimeout:r?clearTimeout:n.clearTimeout,setInterval:r?setInterval:n.setInterval,clearInterval:r?clearInterval:n.clearInterval},u=100,i=function(e,t){return o.setTimeout(e,t)},f=function(e){return"number"==typeof e&&Number.isFinite(e)&&e<=864e5&&e%1==0};function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u;return t=f(t)?t:u,new Promise(function(e){return i(e,t)})}var l=t(a,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u;return function(){return a(e)}});function c(){var r,n,e=new Promise(function(e,t){r=e,n=t});return{resolve:r,reject:n,promise:e}}var s=t(c,function(){return function(){return c()}});function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v(e,t){return e(t={exports:{}},t.exports),t.exports}var p=d(v(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,o,u,i,f){return}})),y=d(v(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return"function"==typeof e}}));function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=v(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(arguments.length<2||!t)return!1;var r=u.call(e),n=t.trim(),o=n.slice(0,1).toUpperCase()+i(n.slice(1));return r==="[object ".concat(o,"]")};var u=Object.prototype.toString,i=function(e){return e.replace(/\s+(.)/g,function(e,t){return t.toUpperCase()})}});d(m);var N=v(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(0===arguments.length||void 0===e)return!1;var r=(0,n.default)(e,"number");if(!r)return r;t&&(r=!o(e));return r=r&&u(e)},t.MIN_NUMBER=t.MAX_NUMBER=t.isFinite=t.isNaN=void 0;var r,n=(r=m)&&r.__esModule?r:{default:r};var o=Number.isNaN||window.isNaN;t.isNaN=o;var u=Number.isFinite||window.isFinite;t.isFinite=u;var i=Number.MAX_VALUE;t.MAX_NUMBER=i;var f=Number.MIN_VALUE;t.MIN_NUMBER=f});d(N);N.MIN_NUMBER,N.MAX_NUMBER,N.isFinite,N.isNaN;var h=d(v(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==b(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(N);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}t.default=function(e,t){var r,n,o,u=1<arguments.length&&void 0!==t&&t;if(Number.isInteger)r=Number.isInteger(e);else{if(!(r=(0,i.default)(e,!0)))return r;r=(0,i.isFinite)(e)&&(0===(n=e)?n:(0<n?1:-1)*Math.floor(Math.abs(n)))===e}return r&&u?(o=e,Number.isSafeInteger?Number.isSafeInteger(o):Number.MIN_SAFE_INTEGER<=o&&o<=Number.MAX_SAFE_INTEGER):r}})),_=function(e){return h(e,!0)},M=1e3,g=200,w=36e5,I=new Error("try failure");function j(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:M;p(y(e),"The `callback` should be function."),p(_(t)&&2<=t,"The `times` should be integer and greater than 1."),p(_(r)&&g<=r&&r<=w,"The `tryDelayInterval` should be integer and between ".concat(g," and ").concat(w,"."));var n=s(),o=n.resolve,u=n.reject,i=n.promise;return function e(t,r){return t().catch(function(){if(0<--r.times)return l(r.tryDelayInterval).then(function(){return e(t,r)});throw I})}(e,{times:t,tryDelayInterval:r}).then(o).catch(u),i}var O=t(j,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3;return function(){return j(e,t)}});e.defer=s,e.delay=l,e.retry=O,Object.defineProperty(e,"__esModule",{value:!0})});
